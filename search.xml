<context>
 <input pattern="* (привет*|здравствуй*) *">
        <output if="full($UserName)">
            <item value="Привет, $UserName! Рада снова видеть тебя!"/>
            <item value="Здравствуй, $UserName! Я уже успела соскучиться...Что для Вас найти?"/>
        </output>

        <context if="empty($UserName)" id="name">
            <output value="Привет! Меня зовут Алиса, я помощник по поиску деталей для автомобилей! Как Вас зовут?"/>

            <input pattern="$Text">
                <var name="UserName" value="cap($Text)" scope="user"/>
                <output value="Приятно познакомиться, $UserName! Какой номер детали Вам найти?"/>
                <context/>
            </input>
        </context>
    </input>

    <input pattern="* пока *">
        <var name="end_session" value="javascript: true"/>
        <output value="Ну пока, незнакомец!" if="empty($UserName)"/>
        <output value="Пока-пока, $UserName!"/>
    </input>

 <input pattern="* (weather|forecast)">
  <get url="http://api.openweathermap.org/data/2.5/weather" var="Weather">
    <param name="APPID" value="API_KEY"/>
    <param name="units" value="metric"/>
    <param name="lat" value="$UserLatitude"/>
    <param name="lon" value="$UserLongitude"/>
  </get>

  <output value='get("temp", get("main", $Weather))'/>
</input>
 
 
 
    
</context>
